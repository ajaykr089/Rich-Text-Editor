<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Web Component - All Plugins Test</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 1200px;
            margin: 20px auto;
            padding: 0 20px;
        }
        h1 {
            color: #333;
        }
        .test-section {
            margin: 30px 0;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 8px;
            background: #f9f9f9;
        }
        .test-section h2 {
            margin-top: 0;
            color: #0066cc;
        }
        rich-text-editor {
            display: block;
            margin: 15px 0;
            border: 1px solid #ccc;
            border-radius: 4px;
        }
        .info {
            background: #e7f3ff;
            padding: 10px;
            border-left: 4px solid #0066cc;
            margin: 10px 0;
            font-size: 14px;
        }
        .plugin-count {
            background: #4CAF50;
            color: white;
            padding: 5px 10px;
            border-radius: 4px;
            display: inline-block;
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <h1>ðŸŽ¨ Rich Text Editor - All Plugins Demo</h1>
    
    <div class="info">
        <strong>âœ… Success!</strong> This web component now uses the EXACT SAME plugins as the React/Storybook version.
        All features are included: dropdowns, inline-menus, dialogs, and full command support. No code duplication!
    </div>

    <div class="test-section">
        <h2>1. Full Toolbar (All Plugins)</h2>
        <p>All 30+ plugins loaded from @editora/plugins package:</p>
        <rich-text-editor 
            id="editor-full"
            placeholder="Try all formatting options including dropdowns, dialogs, and menus...">
            <h2>Welcome to Editora!</h2>
            <p>This editor includes ALL real plugins:</p>
            <ul>
                <li>Text formatting with full command support</li>
                <li>Headings dropdown (H1-H6)</li>
                <li>Font family & size dropdowns</li>
                <li>Text & background color pickers</li>
                <li>Tables, Math, Emojis, Special Characters</li>
                <li>Links with dialogs</li>
                <li>And 20+ more plugins!</li>
            </ul>
        </rich-text-editor>
    </div>

    <div class="test-section">
        <h2>2. Basic Formatting</h2>
        <p>Configure: <code>toolbar="history | bold italic underline strikethrough"</code></p>
        <rich-text-editor 
            id="editor-basic"
            toolbar="history | bold italic underline strikethrough"
            placeholder="Basic formatting...">
            <p>This editor shows only basic text formatting.</p>
        </rich-text-editor>
    </div>

    <div class="test-section">
        <h2>3. Document Editor</h2>
        <p>Configure: <code>toolbar="history | heading | list | textAlignment | link blockquote"</code></p>
        <rich-text-editor 
            id="editor-document"
            toolbar="history | heading | list | textAlignment | link blockquote"
            placeholder="Document formatting...">
            <h1>Document Title</h1>
            <p>This editor includes heading dropdown, lists with full functionality, and text alignment.</p>
        </rich-text-editor>
    </div>

    <div class="test-section">
        <h2>4. Rich Content Editor</h2>
        <p>Full featured: <code>toolbar="history | heading | bold italic underline | fontSize fontFamily | textColor backgroundColor | list table | link"</code></p>
        <rich-text-editor 
            id="editor-rich"
            toolbar="history | heading | bold italic underline | fontSize fontFamily | textColor backgroundColor | list table | link"
            placeholder="Rich content with all features...">
            <h3>Rich Content Example</h3>
            <p><strong>Bold</strong>, <em>italic</em>, and <u>underlined</u> text with font controls.</p>
            <p>Try the font family dropdown, font size selector, and color pickers!</p>
        </rich-text-editor>
    </div>

    <div class="test-section">
        <h2>5. Minimal Editor</h2>
        <p>Just the essentials: <code>toolbar="bold italic | link"</code></p>
        <rich-text-editor 
            id="editor-minimal"
            toolbar="bold italic | link"
            placeholder="Minimal toolbar...">
            <p>A simple editor with only bold, italic, and link options.</p>
        </rich-text-editor>
    </div>

    <script type="module">
        // Import the web component bundle
        import '../packages/core/dist/webcomponent.min.js';
        
        console.log('=== Web Component Loaded ===');
        
        // Wait for custom element to be defined
        customElements.whenDefined('rich-text-editor').then(() => {
            console.log('âœ… rich-text-editor element is ready!');
            
            // Show plugin count
            const editors = document.querySelectorAll('rich-text-editor');
            console.log(`ðŸ“ ${editors.length} editors initialized on this page`);
            
            // Display plugin count in UI
            const countDiv = document.createElement('div');
            countDiv.className = 'plugin-count';
            countDiv.textContent = `âœ… ${editors.length} Rich Text Editors Active`;
            document.body.insertBefore(countDiv, document.body.firstChild);
        });

        // Log editor instances
        window.addEventListener('load', () => {
            const editors = document.querySelectorAll('rich-text-editor');
            editors.forEach((editor, index) => {
                console.log(`Editor ${index + 1}:`, {
                    id: editor.id,
                    toolbar: editor.getAttribute('toolbar') || 'all plugins (default)',
                    placeholder: editor.getAttribute('placeholder')
                });
            });
        });
    </script>
</body>
</html>

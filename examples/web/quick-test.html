<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Meta Tags for SEO -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Editora Quick Test - Example and demonstration of Editora rich text editor features.">
    <meta name="keywords" content="quick test, Editora editor, example, demonstration">
    <meta name="author" content="Editora Contributors">
    <meta name="robots" content="index, follow">
    <meta property="og:title" content="Editora - Quick Test">
    <meta property="og:description" content="Editora Quick Test - Example and demonstration of Editora rich text editor features.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://editora-free.netlify.app/">
    <meta property="og:image" content="https://editora-free.netlify.app/og-image.png">
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:title" content="Editora - Quick Test">
    <meta property="twitter:description" content="Editora Quick Test - Example and demonstration of Editora rich text editor features">
    <meta name="theme-color" content="#007bff">

    <!-- Favicon -->
    <link rel="icon" type="image/png" sizes="16x16" href="assets/img/favicon_16.png">
    <link rel="icon" type="image/png" sizes="32x32" href="assets/img/favicon_32.png">
    <link rel="icon" type="image/png" sizes="64x64" href="assets/img/favicon_64.png">
    <title>Editora - Quick Test</title>
    <link rel="stylesheet" href="assets/css/style.css">
<body>
  <header style="text-align: center; padding: 15px; background: #2c3e50; color: white; margin-bottom: 20px;">
    <a href="index.html" style="text-decoration: none; color: inherit;">
      <img src="assets/img/editora_logo_blocks.svg" alt="Editora Logo" style="height: 54px; width: auto; filter: brightness(0) invert(1);">
    </a>
  </header>
  
  <h1>üß™ Editora Web Component Test</h1>
  
  <div id="status" class="status">Loading...</div>
  
  <h2>Editor Instance:</h2>
  <editora-editor id="test-editor" height="300">
    <h2>Test Editor</h2>
    <p>If you can see this and the toolbar above, <strong>everything works!</strong></p>
    <p>Try editing this text.</p>
  </editora-editor>
  
  <h2>API Test:</h2>
  <div id="api-result" class="status">Click button to test API...</div>
  <button onclick="testAPI()" style="padding: 10px 20px; margin: 10px 0;">Test API</button>
  
  <script src="https://cdn.jsdelivr.net/npm/@editora/core/dist/webcomponent-core.min.js"></script>
  <script>
    window.addEventListener('load', () => {
      const status = document.getElementById('status');
      let results = [];
      
      // Test 1: Check if Editora global exists
      if (typeof window.Editora !== 'undefined') {
        results.push('‚úÖ Global Editora object exists');
      } else {
        results.push('‚ùå Global Editora object missing');
      }
      
      // Test 2: Check version
      if (window.Editora && window.Editora.version) {
        results.push(`‚úÖ Version: ${window.Editora.version}`);
      } else {
        results.push('‚ùå Version missing');
      }
      
      // Test 3: Check plugins
      if (window.Editora && window.Editora.plugins) {
        results.push(`‚úÖ Plugins loaded: ${window.Editora.plugins.length}`);
      } else {
        results.push('‚ùå Plugins missing');
      }
      
      // Test 4: Check custom element
      if (customElements.get('rich-text-editor')) {
        results.push('‚úÖ Custom element registered');
      } else {
        results.push('‚ùå Custom element not registered');
      }
      
      // Test 5: Check editor instance
      const editor = document.getElementById('test-editor');
      if (editor && typeof editor.getContent === 'function') {
        results.push('‚úÖ Editor instance functional');
      } else {
        results.push('‚ùå Editor instance broken');
      }
      
      // Display results
      const allPassed = results.every(r => r.startsWith('‚úÖ'));
      status.innerHTML = results.join('<br>');
      status.className = allPassed ? 'status success' : 'status error';
      
      // Wait for editor to be ready
      editor.addEventListener('editor-ready', () => {
        console.log('‚úÖ Editor ready event fired');
      });
    });
    
    function testAPI() {
      const editor = document.getElementById('test-editor');
      const result = document.getElementById('api-result');
      const api = editor.getAPI();
      
      let tests = [];
      
      // Test getContent
      try {
        const content = api.getContent();
        tests.push(`‚úÖ getContent(): ${content.length} chars`);
      } catch (e) {
        tests.push(`‚ùå getContent() failed: ${e.message}`);
      }
      
      // Test setContent
      try {
        const timestamp = new Date().toLocaleTimeString();
        api.setContent(`<p>API test at ${timestamp}</p>`);
        tests.push(`‚úÖ setContent(): Success`);
      } catch (e) {
        tests.push(`‚ùå setContent() failed: ${e.message}`);
      }
      
      // Test execCommand
      try {
        api.execCommand('toggleBold');
        tests.push(`‚úÖ execCommand(): Success`);
      } catch (e) {
        tests.push(`‚ùå execCommand() failed: ${e.message}`);
      }
      
      // Test focus
      try {
        api.focus();
        tests.push(`‚úÖ focus(): Success`);
      } catch (e) {
        tests.push(`‚ùå focus() failed: ${e.message}`);
      }
      
      // Test getConfig
      try {
        const config = api.getConfig();
        tests.push(`‚úÖ getConfig(): ${Object.keys(config).length} keys`);
      } catch (e) {
        tests.push(`‚ùå getConfig() failed: ${e.message}`);
      }
      
      // Display results
      const allPassed = tests.every(t => t.startsWith('‚úÖ'));
      result.innerHTML = tests.join('<br>');
      result.className = allPassed ? 'status success' : 'status error';
    }
  </script>
</body>
</html>
